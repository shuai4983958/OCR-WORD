{"version":3,"sources":["webpack:///./build/ocr/word.js"],"names":["__webpack_require__","r","__webpack_exports__","module","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_dom__WEBPACK_IMPORTED_MODULE_1__","react_dom__WEBPACK_IMPORTED_MODULE_1___default","Result","props","_this","_classCallCheck","this","_possibleConstructorReturn","_getPrototypeOf","call","console","log","result","state","React","Component","_this2","selectedFile","document","getElementById","files","url","undefined","window","createObjectURL","URL","webkitURL","image","Image","crossOrigin","src","width","body","appendChild","onload","canvas","createElement","height","getContext","drawImage","dataURL","toDataURL","upload","location","href","a","type","id","onChange","fileImport","bind","words_result","map","item","index","key","words","ReactDom","render","defaultProps","e","exports"],"mappings":"qDAAAA,EAAAC,EAAAC,GAAA,SAAAC,GAAA,IAAAC,EAAAJ,EAAA,GAAAK,EAAAL,EAAAM,EAAAF,GAAAG,EAAAP,EAAA,GAAAQ,EAAAR,EAAAM,EAAAC,8yBAKME,cACF,SAAAA,EAAYC,GAAO,IAAAC,EAAA,mGAAAC,CAAAC,KAAAJ,GACfE,EAAAG,EAAAD,KAAAE,EAAAN,GAAAO,KAAAH,KAAMH,IACNO,QAAQC,IAAIP,EAAKD,MAAMS,QACvBR,EAAKS,MAAQ,GAHET,wPADFU,IAAMC,sDAWV,IAAAC,EAAAV,KACHW,EAAeC,SAASC,eAAe,SAASC,MAAM,GACxDC,EAAM,UACqBC,IAA3BC,OAAOC,gBACTH,EAAME,OAAOC,gBAAgBP,QACLK,IAAfC,OAAOE,IAChBJ,EAAME,OAAOE,IAAID,gBAAgBP,QACHK,IAArBC,OAAOG,YAChBL,EAAME,OAAOG,UAAUF,gBAAgBP,IAEzCP,QAAQC,IAAIU,GACZ,IAAMM,EAAQ,IAAIC,MAElBD,EAAME,YAAc,GACpBF,EAAMG,IAAMT,EACZM,EAAMI,MAAQ,IACdb,SAASc,KAAKC,YAAYN,GAC1BA,EAAMO,OAAS,WACX,IAAMC,EAASjB,SAASkB,cAAc,UACtCD,EAAOJ,MAAQJ,EAAMI,MACrBI,EAAOE,OAASV,EAAMU,OACVF,EAAOG,WAAW,MAC1BC,UAAUZ,EAAO,EAAG,EAAGQ,EAAOJ,MAAOI,EAAOE,QAChD,IAAMG,EAAUL,EAAOM,YACvBzB,EAAK0B,OAAOF,qCAOlBjB,OAAOoB,SAASC,KAAO,4CAGxB,OAAO9C,EAAA+C,EAAAT,cAAA,WAEFtC,EAAA+C,EAAAT,cAAA,SAAOU,KAAK,OAAOC,GAAG,QAAQC,SAAU1C,KAAK2C,WAAWC,KAAK5C,QAE3DA,KAAKH,MAAMS,OAAOuC,aAAaC,IAAI,SAACC,EAAKC,GACvC,OACExD,EAAA+C,EAAAT,cAAA,OAAKmB,IAAKD,GAAQD,EAAKG,+CAWvC,SAAS5C,EAAOA,GACZ6C,IAASC,OAAO5D,EAAA+C,EAAAT,cAAClC,EAAD,CAAQU,OAAQA,IAAWM,SAASC,eAAe,QAJvEjB,EAAOyD,aAAe,GAOtB,IACIpC,OAAOX,OAASA,EAClB,MAAOgD,GACLhE,EAAOiE,QAAUjD","file":"1.24a2656c4af745b2c9d8.hot-update.js","sourcesContent":["'use strict';\nimport React from \"react\";\nimport ReactDom from \"react-dom\";\nimport Item from \"antd/lib/list/Item\";\n\nclass Result extends React.Component {\n    constructor(props) {\n        super(props);\n        console.log(this.props.result)\n        this.state = {\n       \n        };\n   }\n    /**\n     * 本地文件导入\n     */\n    fileImport() {\n        const selectedFile = document.getElementById('files').files[0];\n        let url = null\n        if (window.createObjectURL !== undefined) { // basic\n          url = window.createObjectURL(selectedFile)\n        } else if (window.URL !== undefined) { // mozilla(firefox)\n          url = window.URL.createObjectURL(selectedFile)\n        } else if (window.webkitURL !== undefined) { // webkit or chrome\n          url = window.webkitURL.createObjectURL(selectedFile)\n        }\n        console.log(url);\n        const image = new Image();\n        //至关重要\n        image.crossOrigin = '';\n        image.src = url;\n        image.width = 300;\n        document.body.appendChild(image)\n        image.onload = ()=>{\n            const canvas = document.createElement(\"canvas\");\n            canvas.width = image.width;\n            canvas.height = image.height;\n            const ctx = canvas.getContext(\"2d\");\n            ctx.drawImage(image, 0, 0, canvas.width, canvas.height);\n            const dataURL = canvas.toDataURL();\n            this.upload(dataURL)\n        }\n   }\n   /**\n    * 上传\n    */\n   upload(){\n      window.location.href = 'download';\n   }\n   render() {\n     return <div>\n\n          <input type=\"file\" id=\"files\" onChange={this.fileImport.bind(this)} ></input>\n          {\n            this.props.result.words_result.map((item,index)=>{\n              return (\n                <div key={index}>{item.words}</div>\n              )\n            })\n          }\n     </div>\n   }\n}\n\nResult.defaultProps = {\n    \n};\nfunction result(result) {\n    ReactDom.render(<Result result={result}/>, document.getElementById(\"app\"));\n}\n\ntry {\n    window.result = result;\n} catch (e) {\n    module.exports = result;\n}"],"sourceRoot":""}